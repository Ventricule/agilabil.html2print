// main: ../main.less

/* Here you can put your specific typography, layout styles. */

/* -----  Characters styles  --------------------------------------------- */

article, .page {

	font-family: 'Archivo Narrow', sans-serif;
	font-size: @font-size;
	line-height: @line-height;

	h1,
	h2,
	h3,
	h4,
	h5,
	h6
	{
		font-family: "nunito";
		text-transform: lowercase;
		font-weight: 800;
		margin: 0;
		margin-top: @margin-normal;
		margin-bottom: 6pt;
		text-align: left;
		text-decoration: none;
	}

	h1:first-child,
	h2:first-child,
	h3:first-child,
	h4:first-child,
	h5:first-child,
	h6:first-child,
	.surtitre + h1,
	.surtitre + h2,
	.surtitre + h3,
	.surtitre + h4,
	.surtitre + h5,
	.surtitre + h6,
	meta + h1,
	meta + h2,
	meta + h3,
	meta + h4,
	meta + h5,
	meta + h6,
	hr + h1,
	hr + h2,
	hr + h3,
	hr + h4,
	hr + h5,
	hr + h6,
	{
		margin-top: 0 !important;
	}

	h1 {
		font-size: 21pt;
		line-height: @line-height * 2;
	}

	h2, h3 {
		font-size: 14pt;
		line-height: @line-height * 1.25;
		margin-bottom: @margin-normal;
	}

	h4, h5 {
		font-size: 14pt;
		line-height: @line-height * 1.25;
		margin-bottom: 4pt;
	}

	h5.h4-ateliers {
		font-size: 16pt;
		line-height: @line-height * 1.5;
	}

	h6 {
		font-size: 12pt;
		line-height: @line-height * 1.25;
		margin-bottom: 4pt;
	}

	p {
		margin: @margin-small 0;
	}

	pre p,
	.chemin p {
		margin: 0;
	}

	pre, code {
		font-family: "whois";
		font-size: 8pt;
		line-height: @line-height;
		margin: 0;
		margin-bottom: 6pt;
	}

	pre.h4-ateliers {

	}

	strong {
		font-kerning: none;
	}

	a {
	  color: inherit;
		border-bottom: 0pt solid;
		font-size: 10pt;
		text-decoration: underline;
		word-wrap: break-word ;
	}

	blockquote {
    font-family: "CMUvariable", serif;
    font-size: 9pt;
    line-height: 10.5pt;
    break-inside: avoid;
    margin: @margin-normal 0;
		padding-right: @margin-big;

    p {
    	margin: 0;
    }

    em {
	    font-style: normal;
	    text-decoration: underline;
		}

	}

	hr {
		height: 0;
		padding: 0;
		margin: 0;
		visibility: collapse;
		-webkit-region-break-after: always;
									 break-after: region;
	}

	ul, ol {
		padding: 0;
		margin: @margin-small 0 @margin-small @margin-normal;
	}

	.surtitre {
		font-family: 'whois' !important;
		text-decoration: none;
		margin-bottom: @margin-big;
		position: relative;
		font-size: 8pt;
		line-height: 12pt;

		span {
			border: .25pt solid;
			position: absolute;
			top: 0;
			left: 0;
			padding: 2pt 6pt;
			display: block;
			white-space: nowrap;
			border-radius: 12pt;

			&:last-child {
				left: auto;
				right: 0;
				border-color: transparent transparent black transparent;
				border-radius: 0;
				padding: 2pt 0pt;
				width: auto;
			}
		}
	}

	.encart {
		background: #fff;
		padding: 6pt 12pt;
		margin: 6pt 0;
		break-inside: avoid;
		border: .25pt solid;
	}
	.appel {
		padding: 6pt 12pt;
		margin: 6pt 0;
		break-inside: avoid;
		font-weight: bold;
	}
	.appel::before {
		content: "appel";
		position: absolute;
		transform: rotate(90deg) translate(-0%, -0%);
		transform-origin: 0% 0%;
		font-family: "whois";
		font-weight: normal;
		padding: 3pt 6pt;
		font-size: 9pt;
		line-height: 12pt;
	}
	.cartouche {
		border: .25pt solid;
		padding: 4pt 12pt;
		position: relative;
		margin-bottom: @margin-normal;
	}
	.cartouche pre {
		position: absolute;
		top: 0;
		right: 0;
		left: 0;
		border-bottom: .25pt solid;
		text-align: right;
	}
	.cartouche code {
		border-left: .25pt solid;
		padding: 0 12pt;
		display: inline-block;
		margin: 0;
	}
	.cartouche h5 {
		margin: 14pt 0 2pt 0 !important;
		text-align: center;
	}
	.cartouche::before {
		content: "atelier";
		font-family: 'whois';
		font-size: 8pt;
		line-height: 12pt;
		border-right: .25pt solid;
		position: absolute ;
		top: 0;
		left: 0;
		padding: 0 12pt;
	}

	.columns {
		column-gap: @margin-big;

		&.col-2 {
			columns: 2;
		}

		&.col-3 {
			columns: 3;
		}

		p {
			break-inside: avoid;
			display: inline-block;
		}

		hr {
			break-after: column;
		}
	}

	h2 strong,
	h3 strong,
	h4 strong,
	h5 strong,
	h6 strong {
		border: .25pt solid;
		border-radius: 50%;
		padding: 0 6pt;
	}

	h2.h2-le-pave,
	h2.h2-a-bras,
	h2.h2-lendemains-qui {
		font-size: 21pt;
		line-height: @line-height * 2;
		position: absolute;
		bottom: 50%;
		left: 50%;
		transform: translate(-50%, -50%) rotate(-20deg);
	}

	h4.h4-ateliers {
		display: none;
	}

	h2.h2-inspirations-et {
		display: block;
	}

	p.h2-inspirations-et {
		font-size: 9pt;
		line-height: 11pt;
		overflow-wrap: break-word;
	}

	.h3-quatre-des img {
		width: 95%
	}

	.full-page {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: auto;
	}

	// Livret photo
	.chemin.h2-livret-photo {
		padding: 0;
		margin: 0;
		margin-bottom: 6.5mm;
	}

	.chemin.h2-livret-photo::before {
		display: none;
	}

	h2.h2-livret-photo {
		display: none;
	}

	p.h2-livret-photo {
		margin: 0;
		img {
			margin: 0;
			//width: 62mm;
			margin-bottom: 6.5mm;
			max-height: 190mm;
			display: block;
		}
		a[id]::after {
			left: -15pt !important;
		}
	}

	// Ours
	.ours {
		border: .25pt solid;
		padding: 5mm;
		width: auto;
		margin: 5mm 0;
	}

}




/* -----  Page layout  --------------------------------------------- */

.paper {

	// COLORS
	background-color: none !important;

	.page {
		background-color: #fff;
	}

	&.atelier {
		.page::before {
			content: " ";
			position: absolute;
			top: -5mm;
			bottom: -5mm;
			left: -5mm;
			right: -5mm;
		}

		&:nth-child(odd) .page::before {
			background: linear-gradient(to right, yellow 5mm, white 20%);
		}

		&:nth-child(even) .page::before {
			background: linear-gradient(to left, yellow 5mm, white 20%);
		}

	}

	&.chapitre {
		.page::before {
			content: " ";
			position: absolute;
			top: -5mm;
			bottom: -5mm;
			left: -5mm;
			right: -5mm;
			background: yellow;
		}
	}

	&.chapitre .footer {
		display: none;
	}

	.full-page .body {
	    padding: 0 !important;
	}

	.body.two-columns-layout:nth-child(2) {
		width: ( @page-width - @column-gap ) * .5 ;
		position: absolute;
		top: 0;
		left: 0;
		padding-right: 0;
	}

	.body.two-columns-layout:nth-child(3) {
		width: ( @page-width - @column-gap ) * .5 ;
		position: absolute;
		top: 0;
		right: 0;
		padding-left: 0;
	}

	.footer {
		font-family: 'Whois', monospace;
		font-size: 8pt;
		line-height: 11.7pt;
		position: static;

		.chapter,
		&::after,
		&::before {
			position: absolute;
		}

		&:after {
			font-size: 24pt;
			line-height: 24pt;
			text-align: center;
			font-family: "whois";
			position: absolute;
		}
	}


	// left pages
	&:nth-child(even) {

		.footer {

			// Titre
			&::before {
        	content: @header-text-left-side;
					left: 8mm;
					top: 50%;
					transform: translate(-50%, -50%)rotate(90deg);
					display: none;
		    }

		    // Pagination
			&::after {
				left: 8mm;
				top: 50%;
				transform: translate(-50%, -50%)rotate(90deg);
			}

			// Chapitre
			.chapter {
				left: 8mm;
				top: 50%;
				transform-origin: 50% 100%;
				transform: translate(-50%, -50%)rotate(90deg);
				display: none;
			}

		}

	}

	// right pages
	&:nth-child(odd) {

		.footer {

			// Titre
			&::before {
        	content: @header-text-left-side;
					right: 8mm;
					top: 50%;
					transform: translate(50%, -50%)rotate(-90deg);
					display: none;
		    }

		    // Pagination
			&::after {
				right: 8mm;
				top: 50%;
				transform: translate(50%, -50%)rotate(-90deg);
			}

			// Chapitre
			.chapter {
				right: 8mm;
				top: 50%;
				transform: translate(50%, -50%)rotate(-90deg);
				display: none;
			}

		}

	}

}

.loading {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    text-align: center;
    padding: 5mm 0;
    background: #fff;
    opacity: .9;
    z-index: 9999999;
    background-color: yellow;
    //animation: pulse 1s infinite;
    animation-timing-function: linear;
}

.loading.one {
	background-color: blue;
	animation: pulse 1s infinite;
}

.loading.two {
	background-color: red;
}

.loading.three {
	background-color: #FFFF00;
}

@keyframes pulse {
  0%, 100% {
    background-color: blue;
  }
  33%{
  	background-color: red;
  }
  66% {
    background-color: yellow;
  }
}

/*----------------------- LES CHEMINS ---------------------*/

article {

	// le texte de départ
	.chemin {
    font-family: 'Whois';
    font-size: 9pt;
    line-height: @margin-normal;
    position: relative;
    margin: 8pt 0;
    display: block;
    break-inside: avoid;
    text-indent: 0;
		padding-left: 18pt;
    color: #ff6363;
	}
	.chemin::before {
		content: " ";
		background: #ff6363;
		border-radius: 100%;
		width: 12pt;
		height: 12pt;
		position: absolute;
		left: 0;
		top: -.5pt;
	}

	.chemin.voie-a { color: #ff6363; }
	.chemin.voie-a::before { background-color: #ff6363; }
	.chemin.voie-b { color: #0000bb; }
	.chemin.voie-b::before { background-color: #0000bb; }
	.chemin.voie-c { color: #04b22c; }
	.chemin.voie-c::before { background-color: #04b22c; }



	// le numéro de la page
	a[href^="#"] {
		display: inline;
		border-bottom: .25pt solid;
		text-decoration: none;
	}

	// L'icon de départ
	.icon-chemin-start {
		position: absolute;
	    left: -@margin-big ;
	    width: 2rem;
	    transform: translate(-50%, -25%);
	    height: auto;
	    display: none;
	}

	// Le lien d'arrivée
	a[id] {
	  width: 0;
	  height: 0;
		margin: 0;
		position: relative;
	}

	a[id]::after {
		content: ' ';
		width: 11pt;
		height: 11pt;
		position: absolute;
		left: -26.5pt;
		top: -1pt;
		border-radius: 100%;
		border: .25pt solid;
	}

	a[id^=A]::after {
		border-color: #ff6363;
	}
	a[id^=B]::after {
		border-color: #0000bb;
	}
	a[id^=C]::after {
		border-color: #04b22c;
	}

	// L'icon d'arrivée
	.icon-chemin-end {
	    width: 2rem;
	    height: auto;
	    position: absolute;
	    top: 0;
	    display: none;
	}

}
