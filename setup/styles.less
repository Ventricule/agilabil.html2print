// main: ../main.less

/* Here you can put your specific typography, layout styles. */

/* -----  Characters styles  --------------------------------------------- */

article, .page {

	font-family: 'Archivo Narrow', sans-serif;
	font-size: @font-size;
	line-height: @line-height;

	h1,
	h2,
	h3,
	h4,
	h5,
	h6
	{
		font-family: "whois";
		text-transform: uppercase;
		font-weight: normal;
		margin: 0;
		margin-top: @margin-big;
		margin-bottom: @margin-normal;
		letter-spacing: .4pt;
		text-align: left;
		text-decoration: none;
		border-bottom: .5pt solid;
		display: table;
	}

	h1:first-child,
	h2:first-child,
	h3:first-child,
	h4:first-child,
	h5:first-child,
	h6:first-child,
	.surtitre + h1,
	.surtitre + h2,
	.surtitre + h3,
	.surtitre + h4,
	.surtitre + h5,
	.surtitre + h6,
	hr + h1,
	hr + h2,
	hr + h3,
	hr + h4,
	hr + h5,
	hr + h6,
	{
		margin-top: 0 !important;
	}

	h1 {
		font-size: 24pt;
		margin-bottom: 0rem;
		line-height: @line-height * 2;
	}

	h2 {
		font-size: 12pt;
		line-height: @line-height;
		padding: @margin-big;
		margin-bottom: @margin-big;
		text-decoration: none;
		border: .5pt solid;
		border-radius: 100%;
	}

	h3 {
		font-size: 12pt;
		line-height: 15pt;
	}

	h4, h5, h6 {
		font-size: 10pt;
    line-height: 12pt;
    padding: 2pt 6pt 0pt 6pt;
    margin-top: @margin-big - 3px;
    border: 0.5pt solid;
    border-radius: 12pt;
		background: #fff;
		max-width: 66%;
	}

	h6 {
		background: none;
		max-width: 100% !important;
	}

	p {
		margin: @margin-small 0;
	}

	pre, code {
		font-family: "whois";
		font-size: 9pt;
		line-height: @line-height;
	}

	pre.h4-ateliers {
		position: absolute;
		top: 0;
		right: 0;
	}

	u {
		font-family: "whois";
    text-decoration: none;
    //border-bottom: .5pt solid;
    text-transform: uppercase;
	}

	strong {
		font-kerning: none;
	}

	a {
	  color: inherit;
		border-bottom: 0pt solid;
		font-size: 10pt;
		text-decoration: underline;
	}

	blockquote {
    font-family: "CMUvariable", serif;
    font-size: 9pt;
    line-height: 10.8pt;
    break-inside: avoid;
    margin: @margin-normal 0;
		padding-right: @margin-big;

    p {
    	margin: 0;
    }

    em {
	    font-style: normal;
	    border-bottom: .5pt solid;
		}

	}

	hr {
		height: 0;
		padding: 0;
		margin: 0;
		visibility: collapse;
		-webkit-region-break-after: always;
									 break-after: region;
	}

	ul, ol {
		padding: 0;
		margin: @margin-small 0 @margin-small @margin-normal;
	}

	.surtitre p {
	  font-family: 'whois' !important;
		text-decoration: none;
	}

	.encart {
		background: #fff;
		padding: 8pt 12pt;
		border-radius: 6pt;
		margin: 8pt 0;
		border: .5pt solid;
		break-inside: avoid;
	}

	h2.h2-le-pave,
	h2.h2-a-bras {
		position: absolute;
		top: 33%;
		left: 50%;
		transform: translate(-50%, -50%) rotate(-20deg);
		background-color: #fff;
	}

	h4.h4-ateliers {
		display: none;
	}

	h2.h2-inspirations-et {
		display: block;
	}
	p.h2-inspirations-et {
		font-size: 9pt;
		line-height: 11pt;
		overflow-wrap: break-word;
	}
	p.h2-livret-photo img {
		width: 62mm;
		margin-bottom: 7mm;
	}

}




/* -----  Page layout  --------------------------------------------- */

.paper {

	// COLORS
	background-color: none !important;

	.page {
		background-color: #fff;
	}

	&.atelier .page {
		background-color: #ffff00;
	}

	&.chapitre .page {
		background-color: #0051ff;
	}

	.full-page .body {
	    padding: 0 !important;
	}

	.body.two-columns-layout:nth-child(2) {
		width: ( @page-width - @column-gap ) * .5 ;
		position: absolute;
		top: 0;
		left: 0;
		padding-right: 0;
	}

	.body.two-columns-layout:nth-child(3) {
		width: ( @page-width - @column-gap ) * .5 ;
		position: absolute;
		top: 0;
		right: 0;
		padding-left: 0;
	}

	.footer {
		font-family: 'Whois', monospace;
		font-size: 8pt;
		line-height: 11.7pt;
		top: 5mm;
		bottom: 5mm;
		padding: 0 !important;
		height: auto;
		width: auto;
		white-space: nowrap;

		.chapter,
		&:after,
		&:before {
			position: absolute;
		}

		&:after {
			font-size: 16pt;
			line-height: 18pt;
		}
	}


	// left pages
	&:nth-child(even) {

		.footer {

			left: 5mm;

			// Titre
			&:before {
	        	content: @header-text-left-side;
		        left: 0;
		        bottom: 0;
				transform: translate(-100%, 0%) rotate(90deg);
				transform-origin: 100% 100%;
		    }

		    // Pagination
			&:after {
				left: 0;
				padding: 0 1mm;
			}

			// Chapitre
			.chapter {
				top: 50%;
				transform-origin: 50% 100%;
				transform: translate(-50%, -100%) rotate(90deg);
			}

		}

	}

	// right pages
	&:nth-child(odd) {

		.footer {

			right: 5mm;

			// Titre
			&:before {
	        	content: @header-text-right-side;
		        left: 0;
		        bottom: 0;
				transform: rotate(-90deg);
				transform-origin: 0% 100%;
		    }

		    // Pagination
			&:after {
				right: 0;
				padding: 0 1mm;
			}

			// Chapitre
			.chapter {
				top: 50%;
				transform-origin: 50% 100%;
				transform: translate(-50%, -100%) rotate(-90deg);
			}

		}

	}

	p.h2-livret-photo {
		margin: 0;

		img {
			max-height: 190mm;
		}
	}

}

.loading {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    text-align: center;
    padding: 5mm 0;
    background: #fff;
    opacity: .9;
    z-index: 9999999;
    background-color: yellow;
    //animation: pulse 1s infinite;
    animation-timing-function: linear;
}

.loading.one {
	background-color: blue;
	animation: pulse 1s infinite;
}

.loading.two {
	background-color: red;
}

.loading.three {
	background-color: #FFFF00;
}

@keyframes pulse {
  0%, 100% {
    background-color: blue;
  }
  33%{
  	background-color: red;
  }
  66% {
    background-color: yellow;
  }
}

/*----------------------- LES CHEMINS ---------------------*/

article {

	// le texte de départ
	.chemin {
    font-family: 'Whois';
    font-size: 9pt;
    line-height: @margin-normal;
    position: relative;
    margin: @margin-small 0;
    display: block;
    break-inside: avoid;
    text-indent: 0;
		padding-left: @margin-normal;
    color: #ff6363;
		//border-left: .5pt solid;
	}

	.chemin.voie-a { color: #ff6363; }
	.chemin.voie-b { color: #0000bb; }
	.chemin.voie-c { color: #04b22c; }

	// le numéro de la page
	a[href^="#"] {
		display: inline;
		border-bottom: .5pt solid;
		text-decoration: none;
	}

	// L'icon de départ
	.icon-chemin-start {
		position: absolute;
	    left: -@margin-big ;
	    width: 2rem;
	    transform: translate(-50%, -25%);
	    height: auto;
	    display: none;
	}

	// Le lien d'arrivée
	a[id] {
		text-align: center;
		display: block;
		border: none;
		position: relative;
	}

	// L'icon d'arrivée
	.icon-chemin-end {
	    width: 2rem;
	    height: auto;
	    position: absolute;
	    top: 0;
	    display: none;
	}

}

.paper {

	// left pages
	&:nth-child(even) {
		.icon-chemin-end {
			left: -@page-margin-outside/2;
			transform: translateX(-50%);
		}
	}

	// right pages
	&:nth-child(odd) {
		.icon-chemin-end {
			right: -@page-margin-outside/2;
			transform: translateX(50%);
		}
	}

}
